<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T√°c gi·∫£ - App Truy·ªán</title>
    <!-- T·∫£i Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Supabase Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="bg-gradient-to-br from-green-50 via-mint-50 to-teal-50 text-gray-800 py-4" style="background: linear-gradient(to bottom right, #f0fdf4, #ecfdf5, #f0fdfa);">

    <!-- Mobile Hamburger Menu Button -->
    <button id="mobileMenuBtn" class="lg:hidden fixed top-4 left-4 z-50 bg-white/90 backdrop-blur-sm p-3 rounded-xl shadow-lg border border-green-200 hover:bg-green-50 transition-colors">
        <svg class="w-6 h-6 text-green-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
    </button>

    <div class="container-wrapper">
        <div class="layout-grid">

            <!-- Left Sidebar - Navigation Menu -->
            <aside id="leftSidebar" class="left-sidebar">
                <div class="bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6 border border-green-100">
                    <div class="flex items-center justify-between mb-4 pb-3 border-b border-green-200">
                        <h2 class="text-lg font-bold" style="color: #059669;">Menu</h2>
                        <button id="closeMobileMenu" class="lg:hidden text-gray-500 hover:text-gray-700">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                    <nav class="space-y-2">
                        <a href="index.html" class="block px-4 py-2.5 rounded-lg hover:bg-green-50 text-gray-700 transition-colors">
                            üìö Trang ch·ªß
                        </a>
                        <a href="authors.html" class="block px-4 py-2.5 rounded-lg bg-green-100 text-green-800 font-semibold transition-colors">
                            ‚úçÔ∏è T√°c gi·∫£
                        </a>
                        <a href="search-by-tag.html" class="block px-4 py-2.5 rounded-lg hover:bg-green-50 text-gray-700 transition-colors">
                            üè∑Ô∏è T√¨m theo th·ªÉ lo·∫°i
                        </a>
                        <a href="ranking.html" class="block px-4 py-2.5 rounded-lg hover:bg-green-50 text-gray-700 transition-colors">
                            üèÜ B·∫£ng x·∫øp h·∫°ng
                        </a>
                        <a href="upload.html" class="block px-4 py-2.5 rounded-lg hover:bg-green-50 text-gray-700 transition-colors">
                            üì§ T·∫£i l√™n truy·ªán
                        </a>
                    </nav>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="main-content">
                <div class="bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6 border border-green-100">

                    <!-- Header with Title and Auth -->
                    <div class="flex justify-between items-center mb-6">
                        <div>
                            <a href="index.html" class="text-sm text-gray-600 hover:text-green-600 mb-2 inline-block">
                                ‚Üê Quay l·∫°i trang ch·ªß
                            </a>
                            <h1 class="text-3xl font-bold" style="color: #059669;">
                                <span id="authorNameTitle">T√°c gi·∫£</span>
                            </h1>
                            <p class="text-sm text-gray-600 mt-1">
                                <span id="novelCount">0</span> truy·ªán
                            </p>
                        </div>

                        <!-- Auth Section -->
                        <div id="authSection">
                            <!-- Not logged in -->
                            <div id="notLoggedIn" class="flex gap-2">
                                <a href="login.html" class="px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-colors">
                                    ƒêƒÉng nh·∫≠p
                                </a>
                            </div>

                            <!-- Logged in -->
                            <div id="loggedIn" class="hidden flex items-center gap-3">
                                <a href="profile.html" class="text-sm text-gray-600 hover:text-green-600">
                                    üë§ <strong id="username"></strong>
                                </a>
                                <a id="adminLink" href="admin.html" class="hidden px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold rounded-lg transition-colors">
                                    Qu·∫£n tr·ªã
                                </a>
                                <button id="logoutBtn" class="px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold rounded-lg transition-colors">
                                    ƒêƒÉng xu·∫•t
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Thanh t√¨m ki·∫øm -->
                    <div class="mb-6">
                        <input type="text" id="searchInput"
                               class="w-full px-4 py-3 border-2 border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all"
                               style="background-color: #f0fdf4;"
                               placeholder="T√¨m ki·∫øm theo t√™n truy·ªán...">
                    </div>

                    <!-- Tag Filter Section -->
                    <div class="mb-6 bg-gradient-to-r from-green-50 to-teal-50 rounded-xl border-2 border-green-200 p-4">
                        <div class="flex items-center justify-between mb-3">
                            <h3 class="text-lg font-semibold text-gray-800">
                                üè∑Ô∏è L·ªçc theo th·ªÉ lo·∫°i
                            </h3>
                            <button id="clearTagFilter" class="hidden text-sm text-red-600 hover:text-red-700 font-medium px-3 py-1 bg-white rounded-lg hover:bg-red-50 transition-colors">
                                ‚úï X√≥a b·ªô l·ªçc
                            </button>
                        </div>

                        <!-- Selected Tags Display -->
                        <div id="selectedTagsContainer" class="hidden mb-3 p-3 bg-white rounded-lg border border-green-300">
                            <div class="flex flex-wrap gap-2" id="selectedTagsList">
                                <!-- Selected tags will appear here -->
                            </div>
                        </div>

                        <!-- Available Tags -->
                        <div id="availableTagsContainer" class="flex flex-wrap gap-2">
                            <div class="text-gray-400 text-sm">ƒêang t·∫£i th·ªÉ lo·∫°i...</div>
                        </div>
                    </div>

        <!-- B·∫£ng hi·ªÉn th·ªã truy·ªán -->
        <div class="table-container overflow-x-auto rounded-xl border border-green-100">
            <table class="min-w-full divide-y divide-green-100" id="novelTable">
                <thead style="background: linear-gradient(to right, #d1fae5, #a7f3d0);">
                    <tr>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider" style="color: #065f46;">
                            T√™n truy·ªán
                        </th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider" style="color: #065f46;">
                            Editor
                        </th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider" style="color: #065f46;">
                            Th·ªÉ lo·∫°i
                        </th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider" style="color: #065f46;">
                            S·ªë ch∆∞∆°ng
                        </th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider" style="color: #065f46;">
                            T√¨nh tr·∫°ng
                        </th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider" style="color: #065f46;">
                            C·∫≠p nh·∫≠t
                        </th>
                    </tr>
                </thead>
                <tbody class="bg-white divide-y divide-green-50">
                    <!-- Data will be loaded from Supabase via JavaScript -->
                    <tr>
                        <td colspan="6" class="px-6 py-12 text-center">
                            <div class="text-gray-500">
                                <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"></div>
                                <p class="text-lg font-semibold">ƒêang t·∫£i d·ªØ li·ªáu t·ª´ Supabase...</p>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
                </div>
            </main>

            <!-- Right Sidebar - Reader Votes/Popular Novels -->
            <aside id="rightSidebar" class="right-sidebar">
                <div class="bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6 border border-green-100">
                    <h2 class="text-lg font-bold mb-4 pb-3 border-b border-green-200" style="color: #059669;">
                        üî• B√¨nh ch·ªçn c·ªßa ƒë·ªôc gi·∫£
                    </h2>
                    <div id="rankingsContainer" class="space-y-3">
                        <!-- Rankings will be loaded from Supabase via JavaScript -->
                    </div>

                    <div class="mt-4 pt-4 border-t border-green-100">
                        <a href="ranking.html" class="block text-center text-sm text-green-700 hover:text-green-900 font-semibold">
                            Xem t·∫•t c·∫£ b·∫£ng x·∫øp h·∫°ng ‚Üí
                        </a>
                    </div>
                </div>
            </aside>

        </div>
    </div>

    <!-- Supabase and App Scripts -->
    <script src="js/config.js"></script>
    <script src="js/database.js"></script>
    <script src="js/admin.js"></script>
    <script src="js/components.js"></script>
    <script src="js/novel-modal.js"></script>
    <script src="js/author-page.js"></script>
    <script src="js/main-ui.js"></script>

</body>
</html>

