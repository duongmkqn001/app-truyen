/**
 * Tag Categories Configuration
 * This file defines the categorization of tags for the BL novel application.
 * Categories are organized to match the WikiDich structure.
 * 
 * Auto-generated from tag-categories.csv
 */

const TAG_CATEGORIES = {
    'Th·ªã gi√°c t√°c ph·∫©m': [
        'Ng√¥i th·ª© nh·∫•t',
        'Ng√¥i th·ª© ba',
        'Di·ªÖn ƒë√†n th·ªÉ',
        'ƒê·ªëi tho·∫°i th·ªÉ',
        'ƒêa th·ªã gi√°c',
        'Song th·ªã gi√°c',
        'Ch·ªß c√¥ng',
        'Ch·ªß th·ª•'
    ],
    'ƒê√°nh gi√°': [
        'Kim B·∫£ng üèÜ',
        'Kim b√†i ƒë·ªÅ c·ª≠ ü•á',
        'Ng√¢n b√†i ƒë·ªÅ c·ª≠ ü•à'
    ],
    'Th·∫ø gi·ªõi': [
        'H·ªìng hoang',
        'D·ªã th·∫ø',
        'Th√∫ nh√¢n',
        'Tinh t·∫ø',
        'Nam nam th·∫ø gi·ªõi',
        'Th·∫ø gi·ªõi song song',
        'Nguy√™n th·ªßy',
        'Cyberpunk',
        'Steampunk',
        'Tr√≤ ch∆°i x√¢m l·∫•n'
    ],
    'Huy·ªÅn huy·ªÖn': [
        'T√¢y huy·ªÖn',
        'Linh kh√≠ s·ªëng l·∫°i',
        'Linh d·ªã th·∫ßn qu√°i',
        'Quy t·∫Øc qu√°i ƒë√†m',
        'Tu ch√¢n',
        'Ma ph√°p',
        'ƒê·∫•u kh√≠',
        'Ti·∫øn h√≥a',
        'D·ªã nƒÉng',
        'Vu c·ªï',
        'Th·∫ßn ti√™n y√™u qu√°i',
        'Vampire',
        'Th·∫ßn tho·∫°i',
        'Cthulhu'
    ],
    'B·ªëi c·∫£nh': [
        'ƒê√¥ th·ªã t√¨nh duy√™n',
        'H√†o m√¥n th·∫ø gia',
        'Cung ƒë√¨nh h·∫ßu t∆∞·ªõc',
        'Tam gi√°o c·ª≠u l∆∞u',
        'H·∫Øc bang',
        'Qu√¢n gi√°o',
        'V∆∞·ªùn tr∆∞·ªùng',
        'Ch·ª©c tr∆∞·ªùng',
        'Giang h·ªì √¢n o√°n',
        'Ph∆∞∆°ng T√¢y',
        'Ni√™n ƒë·∫°i vƒÉn',
        'Truy·ªán c·ªï t√≠ch',
        'Tƒ©nh Khang chi s·ªâ',
        'Thi√™n tai',
        'ƒê·ªá t·ª© thi√™n tai',
        'L∆∞u ƒë√†y',
        'Ch·∫°y n·∫°n',
        'L·ªãch s·ª≠',
        'L·ªãch s·ª≠ gi·∫£ t∆∞·ªüng',
        'H·ªìng K√¥ng',
        'H·ªçc vi·ªán qu√Ω t·ªôc'
    ],
    'Lƒ©nh v·ª±c': [
        'Khoa c·ª≠',
        'L√†m gi√†u',
        'M·ªπ th·ª±c',
        'C∆° gi√°p',
        'ƒê·ªï th·∫°ch',
        'Phong th·ªßy',
        'Tr·ªôm m·ªô',
        'Gi√°m b·∫£o',
        'Ph√° √°n',
        'Y thu·∫≠t',
        'Gi·ªõi gi·∫£i tr√≠',
        'Gi·ªõi gi·∫£i tr√≠ Nh·∫≠t',
        'Gi·ªõi gi·∫£i tr√≠ H√†n',
        'Gi·ªõi gi·∫£i tr√≠ M·ªπ',
        'V√µng ph·ªëi',
        'Ph√°t s√≥ng tr·ª±c ti·∫øp',
        'V√µng h·ªìng',
        'Vi·∫øt vƒÉn',
        'Ch·∫ø t√°c',
        'V√µng du',
        'Tr√≤ ch∆°i',
        'Th·∫ª b√†i',
        'Ng·ª± th√∫',
        'Th·ª±c t·∫ø ·∫£o',
        'L·ªØ h√†nh',
        'M·∫°o hi·ªÉm',
        'D∆∞·ª°ng oa',
        'T·ªïng ngh·ªá',
        'Oa t·ªïng',
        'Luy·∫øn t·ªïng',
        'Gi·ªõi th·ªùi trang',
        'Gi·∫£i m√£',
        'Nghi√™n c·ª©u khoa h·ªçc',
        'Th·ªÉ thao',
        'Thi ƒë·∫•u c·∫°nh k·ªπ',
        'C·ªï v√µ'
    ],
    'Th·ªùi kh√¥ng': [
        'Thai xuy√™n',
        'Th√¢n xuy√™n',
        'Xuy√™n vi·ªát',
        'Xuy√™n th∆∞',
        'Xuy√™n game',
        'Xuy√™n nhanh',
        'Xuy√™n ch·∫≠m',
        'C·ªï xuy√™n kim',
        'C·ªï ƒë·∫°i xuy√™n t∆∞∆°g lai',
        'T∆∞∆°ng lai xuy√™n hi·ªán ƒë·∫°i',
        'T∆∞∆°ng lai xuy√™n c·ªï ƒë·∫°i',
        'Song xuy√™n',
        'Xuy√™n v·ªÅ th·∫ø gi·ªõi c≈©',
        'Tr·ªçng sinh',
        'Song tr·ªçng sinh',
        'Ch·∫øt ƒëi s·ªëng l·∫°i',
        'Ho√°n ƒë·ªïi linh h·ªìn',
        'Qua l·∫°i th·ªùi kh√¥ng',
        'V·ªã di·ªán',
        'Th·ªùi Xu√¢n Thu',
        'Th·ªùi Chi·∫øn Qu·ªëc'
    ],
    'B√†n tay v√†ng': [
        'Kh√¥ng h·ªá th·ªëng',
        'Kh√¥ng b√†n tay v√†ng',
        'H·ªá th·ªëng',
        'Song h·ªá th·ªëng',
        'Th∆∞∆°ng th√†nh',
        'R√∫t thƒÉm tr√∫ng th∆∞·ªüng',
        'T√πy th√¢n kh√¥ng gian',
        'Linh tuy·ªÅn',
        'Tool m√¥ ph·ªèng',
        'H·ª£p th√†nh',
        'App',
        'Group chat',
        'Th·ªÉ ch·∫•t may m·∫Øn',
        'Th·∫•u th·ªã',
        'Th√¥i mi√™n',
        'ƒê·ªçc t√¢m',
        'Ng√¥n linh',
        'ƒê√°nh d·∫•u',
        'V√¥ hi·ªáu h√≥a',
        'Ti√™n tri',
        'Ng·ªô t√≠nh',
        'L√†n ƒë·∫°n',
        'Nghe hi·ªÉu ƒë·ªông v·∫≠t',
        'Nghe hi·ªÉu th·ª±c v·∫≠t',
        'Duy ng√£ ƒë·ªôc ph√°p'
    ],
    'NV v√†o vai': [
        'Nh√¢n v·∫≠t th·ª©c t·ªânh',
        'C∆∞·ªùng gi·∫£ tr·ªü v·ªÅ',
        'Ph·∫£n ph√°i tr·ªçng sinh',
        'Ph·∫£n ph√°i xuy√™n vi·ªát',
        'Vai ph·ª• tr·ªçng sinh',
        'Vai ph·ª• xuy√™n vi·ªát',
        'Ho√†ng ƒë·∫ø xuy√™n vi·ªát',
        'Xuy√™n th√†nh vai ch√≠nh',
        'Xuy√™n th√†nh vai √°c',
        'Main l√† ƒë·ªông v·∫≠t',
        'Main l√† th·ª±c v·∫≠t',
        'Main l√† ƒë·ªì v·∫≠t',
        'Main l√† h·ªá th·ªëng',
        'Th·∫≠t gi·∫£ thi·∫øu gia',
        'Tr√πm cu·ªëi',
        'Th√°nh t·ª≠',
        'Nam ph·ª•',
        'N·ªØ trang ƒë·∫°i l√£o',
        'Nam gi·∫£ n·ªØ trang',
        'Chim ho√†ng y·∫øn',
        'Ti·ªÉu tam',
        'Kim ch·ªß',
        'Con nu√¥i',
        'Song sinh',
        'Gi√°o vi√™n',
        'H·ªça sƒ©',
        'Th·ª£ code',
        'T√°c gi·∫£',
        'ƒêi·ªáp vi√™n',
        'ƒê·∫∑c c√¥ng',
        'B·ªô ƒë·ªôi ƒë·∫∑c ch·ªßng',
        'Ph√°p y',
        'Qu·∫£n gia',
        'T√¥ng ch·ªß',
        'ƒê·∫ø v∆∞∆°ng',
        'Ho√†ng t·ª≠',
        'Quy·ªÅn th·∫ßn',
        'Lƒ©nh ch·ªß',
        'Gia ch·ªß',
        'Nam s·ªßng',
        'X∆∞·ªõng k·ªπ',
        'Th√°i y',
        'Ng·ªó t√°c',
        'ƒê·∫°o t·∫∑c',
        'S√°t th·ªß',
        'H√≤a th∆∞·ª£ng',
        'Th√°i gi√°m th·∫≠t',
        'Th√°i gi√°m gi·∫£',
        'M·ªπ nh√¢n ng∆∞',
        'Tang thi',
        'M·ªã ma',
        'Tinh linh',
        'Ma qu·ª∑',
        'Th·∫ßn minh',
        'D≈©ng gi·∫£',
        'Phi nh√¢n lo·∫°i',
        'Gi·∫£ t∆∞·ªüng sinh v·∫≠t',
        'Ngo·∫°i tinh sinh v·∫≠t',
        '√î nhi·ªÖm v·∫≠t',
        'Ch·ªß b√°',
        'Ng∆∞·ªùi ch∆°i',
        'D√¢n b·∫£n x·ª©',
        'NPC',
        'Nh√¢n v·∫≠t 2D',
        'Nh√¢n v·∫≠t th·ª©c t·ªânh'
    ],
    'Nh√¢n thi·∫øt': [
        'Thi√™n chi ki√™u t·ª≠',
        'Ch·ª©c nghi·ªáp tinh anh',
        'ƒÇn ch∆°i tr√°c t√°ng',
        'VƒÉn nh√£ b·∫°i ho·∫°i',
        'Tr·∫°ch nam',
        'Ti·ªÉu nh√¢n v·∫≠t',
        'Ph·ªï nam',
        'Long Ng·∫°o Thi√™n',
        'Mary Sue',
        'Jack Sue',
        'V·∫°n nh√¢n m√™',
        'V·∫°n ng∆∞·ªùi ng·∫°i',
        'Ph√°o h√¥i',
        'Ng∆∞·ªùi qua ƒë∆∞·ªùng',
        'M·ªπ c∆∞·ªùng th·∫£m',
        'B·∫°ch nguy·ªát quang',
        'ƒêo√†n s·ªßng',
        'Manh b·∫£o',
        'Manh s·ªßng',
        'M·ªπ nh√¢n',
        'B·ªánh m·ªπ nh√¢n',
        'H·ªçc b√°',
        'Gi√°o b√°',
        'Gi√°o th·∫£o',
        'Thi√™n t√†i',
        'ƒê·∫°i l√£o',
        'Cu·ªën v∆∞∆°ng',
        'Luy·∫øn √°i n√£o',
        'S·ª± nghi·ªáp n√£o',
        'Ng·ªëc manh',
        'Ng√¢y th∆°',
        'Ngu ng·ªëc',
        'T·ª± ti',
        'Ki·ªÅu kh√≠',
        'Nhu nh∆∞·ª£c',
        'N∆∞∆°ng ph√°o',
        'Th√°nh m·∫´u',
        'ƒê·ªôc mi·ªáng',
        '√Åc ƒë·ªôc',
        'Gi·∫£ heo ƒÉn h·ªï',
        'B·∫°ch thi·∫øt h·∫Øc',
        'Thi√™n nhi√™n h·∫Øc',
        'Ph√∫c h·∫Øc',
        'C∆° tr√≠',
        'L∆∞u manh',
        'Kh·ªëc ca',
        'M·∫∑t d√†y',
        'Tham ƒÉn',
        'Tham t√†i',
        'B√¨nh tƒ©nh',
        'Ph·∫≠t h·ªá',
        'C√° m·∫∑n',
        'B√¨nh ph√†m',
        '√în nhu',
        'D∆∞∆°ng quang',
        'Nhi·ªát li·ªát',
        'Sa ƒëi√™u',
        'Trung nh·ªã',
        'C·ªë ch·∫•p',
        'ƒêi√™n ph√™',
        'H·∫Øc h√≥a',
        'B·ªánh ki·ªÅu',
        'Ng·∫°o ki·ªÅu',
        'Bi·ªát n·ªØu',
        'Trung khuy·ªÉn',
        'Ch√≥ sƒÉn',
        'Li·∫øm c·∫©u',
        'Mu·ªôn tao',
        'T√¢m c∆°',
        'C·ª±c ph·∫©m',
        'Tr√† xanh',
        'B·∫°ch li√™n hoa',
        'H·∫Øc li√™n hoa',
        'Th·ªë ti hoa',
        'C·∫•m d·ª•c',
        'Thanh l√£nh',
        'Cao l√£nh chi hoa',
        'BƒÉng s∆°n',
        'Si t√¨nh',
        'V√¥ t√¨nh',
        'Phong l∆∞u',
        'H·∫£i v∆∞∆°ng',
        'Ng·ª±a gi·ªëng',
        'D·∫•m v∆∞∆°ng',
        'Chi·∫øm h·ªØu d·ª•c',
        'Bi·∫øn th√°i',
        'Si h√°n',
        'Th√°o h√°n',
        'Nh√¢n phu',
        'Nh√¢n th√™',
        'Nam m·ª• m·ª•',
        'T√†n t·∫≠t',
        'Khuy·∫øt t·∫≠t',
        'C·∫Øt mi·∫øng',
        'ƒêa nh√¢n c√°ch',
        'M·∫•t tr√≠ nh·ªõ',
        'OOC'
    ],
    'Phong c√°ch': [
        'Ch·ªß c·ªët truy·ªán',
        'Thu·∫ßn th·ªãt',
        'Ng·ªçt s·ªßng',
        'Nh·∫π nh√†ng',
        '·∫§m √°p',
        'Ch·ªØa l√†nh',
        'H√†i h∆∞·ªõc',
        'Nhi·ªát huy·∫øt',
        'H·∫±ng ng√†y',
        'Ch·∫≠m nhi·ªát',
        'T·∫ø thu·ª∑ tr∆∞·ªùng l∆∞u',
        'B√¨nh d√¢n sinh ho·∫°t',
        'Th·ªùi x∆∞a phong',
        'L√¥i',
        'Tam quan b·∫•t ch√≠nh',
        'Sang phi t·∫•t c·∫£',
        'C·∫©u huy·∫øt',
        'VƒÉn ngh·ªá',
        'Ch√≠nh k·ªãch',
        'Hi·ªán th·ª±c',
        'Ng∆∞·ª£c luy·∫øn',
        'H·∫Øc √°m',
        'S·∫£ng vƒÉn',
        'ƒêo·∫£n vƒÉn',
        'Qu√¢n vƒÉn',
        'Ti·ªÉu b·∫°ch vƒÉn',
        'Thanh th·ªßy vƒÉn',
        'ƒê∆°n nguy√™n vƒÉn',
        'Qu·ªëc l·ªô vƒÉn',
        'ƒÇn d∆∞a vƒÉn',
        'Qu·∫ßn t∆∞·ª£ng vƒÉn',
        'Mua c·ªï vƒÉn',
        'Otome'
    ],
    'Xu h∆∞·ªõng': [
        'Ph·∫£n s√°t h·ªá th·ªëng',
        'Ph·∫£n k·ªãch b·∫£n',
        'Ph·∫£n b√†n tay v√†ng',
        'Ph·∫£n anh h√πng',
        'B√°o th√π',
        'Ng∆∞·ª£c tra',
        'Cung ƒë·∫•u',
        'Tr·∫°ch ƒë·∫•u',
        'Quy·ªÅn m∆∞u',
        'C·∫£i trang gi·∫£ d·∫°ng',
        'B√¨nh b·ªô thanh v√¢n',
        'Tr∆∞·ªüng th√†nh',
        'D·ªëc l√≤ng',
        'Ngh·ªãch t·∫≠p',
        'V·∫£ m·∫∑t',
        'V√¥ h·∫°n l∆∞u',
        'ThƒÉng c·∫•p l∆∞u',
        'V√¥ ƒë·ªãch l∆∞u',
        'Ph·∫ø s√†i l∆∞u',
        'K·ªπ thu·∫≠t l∆∞u',
        'Ph√†m nh√¢n l∆∞u',
        'Cao nh√¢n l∆∞u',
        'S√°ng th·∫ø l∆∞u',
        'C·ª©u th·∫ø l∆∞u',
        'H·∫Øc th·ªß l∆∞u',
        '√Åo cho√†ng l∆∞u',
        'ƒêo√†n ƒë·ªôi l∆∞u',
        'To√†n d√¢n l∆∞u',
        'Tri·ªáu ho√°n l∆∞u',
        'Th·∫ßn h√†o l∆∞u',
        'C√¥ng l∆∞·ª£c nhi·ªám v·ª•',
        'Hoa H·∫° c·ª±c ƒëoan'
    ],
    'M·ªëi quan h·ªá': [
        'ƒÇn nh·ªù ·ªü ƒë·∫≠u',
        'Thanh mai tr√∫c m√£',
        'Hoan h·ªâ oan gia',
        'Song h∆∞·ªõng y√™u th·∫ßm',
        'ƒê∆°n h∆∞·ªõng y√™u th·∫ßm',
        'Nh·∫•t ki·∫øn chung t√¨nh',
        'T√¨nh h·ªØu ƒë·ªôc chung',
        'M·∫•t m√† t√¨m l·∫°i',
        'G∆∞∆°ng v·ª° l·∫°i l√†nh',
        'G∆∞∆°ng v·ª° kh√¥ng l√†nh',
        'C∆∞·ªõi tr∆∞·ªõc y√™u sau',
        'B·∫ßu tr∆∞·ªõc y√™u sau',
        'Kh·∫ø ∆∞·ªõc t√¨nh nh√¢n',
        'T·ª´ gi·∫£ th√†nh th·∫≠t',
        'Ki·∫øp tr∆∞·ªõc ki·∫øp n√†y',
        'C·∫≠n th·ªßy l√¢u ƒë√†i',
        'L√¢u ng√†y sinh t√¨nh',
        'L√¢u ng√†y g·∫∑p l·∫°i',
        'Duy√™n tr·ªùi t√°c h·ª£p',
        'Tr√¢u gi√† g·∫∑m c·ªè non',
        'T∆∞∆°ng √°i t∆∞∆°ng s√°t',
        'Ch·∫ø ph·ª•c t√¨nh duy√™n',
        'C∆∞·ªùng th·ªß h√†o ƒëo·∫°t',
        'C∆∞·ª°ng ch·∫ø √°i',
        'C·∫ßm t√π',
        'Bao d∆∞·ª°ng',
        'D·∫°y d·ªó',
        'T·ª´ h√¥n',
        'T√°i h√¥n',
        'Li√™n h√¥n',
        'Th·∫ø g·∫£',
        'Th·∫ø th√¢n',
        'Song th·∫ø th√¢n',
        'D∆∞·ª°ng th√†nh',
        'C·ª©u r·ªói',
        'Khu√™ m·∫≠t',
        'T√¨nh b·∫°n',
        'T√¨nh th√¢n',
        'T√¨nh ƒë·ªãch',
        'ƒê·ªëi th·ªß s·ªëng c√≤n',
        'Mang b·∫ßu ch·∫°y',
        'Mang b·∫ßu kh√¥ng ch·∫°y',
        'H·ªèa t√°ng tr√†ng',
        'Tu la tr√†ng',
        'B·∫°n c√πng ph√≤ng',
        'C·∫•p tr√™n c·∫•p d∆∞·ªõi',
        'H·∫° kh·∫Øc th∆∞·ª£ng',
        'Cong b·∫ª th·∫≥ng',
        'Th·∫≥ng b·∫ª cong',
        'Ph√°o h·ªØu',
        'SM',
        'NTR',
        'PUA',
        'PTSD'
    ],
    'Couple': [
        'Tra c√¥ng ti·ªán th·ª•',
        'Tra c√¥ng tra th·ª•',
        'Tra c√¥ng',
        'Tra th·ª•',
        'Ti·ªán c√¥ng',
        'Ti·ªán th·ª•',
        'Nh∆∞·ª£c c√¥ng',
        'Nh∆∞·ª£c th·ª•',
        'M·ªπ c√¥ng',
        'M·ªπ th·ª•',
        'S·ª≠u c√¥ng',
        'S·ª≠u th·ª•',
        'Tr√°ng c√¥ng',
        'Tr√°ng th·ª•',
        'C√≥ ph·∫£n c√¥ng',
        'H·ªó c√¥ng',
        'H·ªó th·ª•',
        'T·ª± c√¥ng t·ª± th·ª•',
        'N·ªØ v∆∞∆°ng th·ª•',
        'T·ªïng t√†i th·ª•',
        'Kim ch·ªß th·ª•',
        'Nam s·ªßng c√¥ng',
        'Chim ho√†ng y·∫øn c√¥ng',
        'S∆∞ t√¥n c√¥ng',
        'Ni√™n th∆∞·ª£ng',
        'Ni√™n h·∫°',
        'C∆∞·ªùng c∆∞·ªùng',
        'M·ªπ c∆∞·ªùng',
        'C∆∞·ªùng nh∆∞·ª£c',
        'Nh∆∞·ª£c c∆∞·ªùng',
        'Nh∆∞·ª£c nh∆∞·ª£c',
        'N·ªØ c∆∞·ªùng',
        '1v1',
        'Nhi·ªÅu CP',
        'NP',
        'Lo·∫°n lu√¢n',
        'Ph·ª• t·ª≠',
        'Huynh ƒë·ªá',
        'Th√∫c ch·∫•t',
        'K·∫ø ph·ª•',
        'S∆∞ ƒë·ªì',
        'Ch·ªß ph√≥',
        'Song khi·∫øt üïäÔ∏è',
        'Phi song khi·∫øt üåÇ',
        'NP to√†n khi·∫øt üïäÔ∏è',
        'Th·ª• cao h∆°n c√¥ng',
        'Th·ª• tr√°ng h∆°n c√¥ng',
        'C√¥ng ysl',
        'C√¥ng d∆∞a ko khi·∫øt',
        'C√¥ng c√∫c ko khi·∫øt',
        'Th·ª• d∆∞a ko khi·∫øt',
        'Th·ª• c√∫c ko khi·∫øt',
        'Gi·∫ª lau',
        'ƒê·ªïi ng∆∞·ªùi y√™u',
        'ƒê·ªïi c√¥ng',
        'ƒê·ªïi th·ª•',
        'Th·ª• chuy·ªÉn c√¥ng',
        'C√¥ng chuy·ªÉn th·ª•',
        'Song ch·∫øt'
    ],
    'Gi·ªõi t√≠nh': [
        'ABO',
        'EABO',
        'A x A',
        'B x B',
        'O x O',
        'E x A',
        'E x B',
        'E x O',
        'A x B',
        'A x O',
        'B x A',
        'B x O',
        'O x A',
        'O x B',
        'Th√∫ x Ng∆∞·ªùi',
        'C√¥ng sinh con',
        'Sinh con',
        'Song t√≠nh',
        'ƒê∆°n t√≠nh',
        'Song JJ',
        'S·∫£n nh≈©',
        'L√≠nh g√°c d·∫´n ƒë∆∞·ªùng',
        'Fork&Cake',
        'X√∫c tu',
        'Tr√πng t·ªôc'
    ]
}

/**
 * Get the category for a given tag
 * @param {string} tagName - The name of the tag
 * @returns {string|null} - The category name or null if not found
 */
function getCategoryForTag(tagName) {
    for (const [category, tags] of Object.entries(TAG_CATEGORIES)) {
        if (tags.includes(tagName)) {
            return category;
        }
    }
    return 'Kh√°c'; // Default category for uncategorized tags
}

/**
 * Organize tags by category
 * @param {Array} tags - Array of tag objects with 'name' property
 * @returns {Object} - Object with categories as keys and arrays of tags as values
 */
function organizeTagsByCategory(tags) {
    const organized = {};
    
    // Initialize all categories
    for (const category of Object.keys(TAG_CATEGORIES)) {
        organized[category] = [];
    }
    organized['Kh√°c'] = []; // Add "Other" category
    
    // Organize tags
    tags.forEach(tag => {
        const category = getCategoryForTag(tag.name);
        if (organized[category]) {
            organized[category].push(tag);
        } else {
            organized['Kh√°c'].push(tag);
        }
    });
    
    // Remove empty categories
    for (const category in organized) {
        if (organized[category].length === 0) {
            delete organized[category];
        }
    }
    
    return organized;
}

/**
 * Get all category names in order
 * @returns {Array} - Array of category names
 */
function getAllCategories() {
    return Object.keys(TAG_CATEGORIES);
}

/**
 * Get category order (same as getAllCategories, for compatibility)
 * @returns {Array} - Array of category names in order
 */
function getCategoryOrder() {
    return Object.keys(TAG_CATEGORIES);
}

// Export for use in other scripts
if (typeof window !== 'undefined') {
    window.TagCategories = {
        TAG_CATEGORIES,
        getCategoryForTag,
        organizeTagsByCategory,
        getAllCategories,
        getCategoryOrder
    };
}
