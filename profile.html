<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T√†i kho·∫£n c·ªßa t√¥i - App Truy·ªán</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="bg-gradient-to-br from-green-50 to-blue-50 min-h-screen">
    <!-- Navigation Bar -->
    <nav class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3">
            <div class="flex items-center justify-between">
                <a href="index.html" class="text-2xl font-bold text-green-600">üìö App Truy·ªán</a>
                
                <div class="flex items-center gap-4">
                    <a href="index.html" class="text-gray-700 hover:text-green-600">Trang ch·ªß</a>
                    <a href="authors.html" class="text-gray-700 hover:text-green-600">T√°c gi·∫£</a>
                    <a href="search-by-tag.html" class="text-gray-700 hover:text-green-600">T√¨m theo th·ªÉ lo·∫°i</a>
                    <a href="ranking.html" class="text-gray-700 hover:text-green-600">B·∫£ng x·∫øp h·∫°ng</a>
                    <a href="upload.html" class="text-gray-700 hover:text-green-600">T·∫£i l√™n</a>
                    
                    <!-- User Menu -->
                    <div id="userMenu"></div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container mx-auto px-4 py-8">
        <div class="max-w-4xl mx-auto">
            <h1 class="text-3xl font-bold text-gray-800 mb-6">üë§ T√†i kho·∫£n c·ªßa t√¥i</h1>
            
            <!-- Account Information Card -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <h2 class="text-xl font-bold text-gray-800 mb-4">üìã Th√¥ng tin t√†i kho·∫£n</h2>
                
                <div class="space-y-4">
                    <div class="flex items-center justify-between border-b pb-3">
                        <span class="text-gray-600 font-medium">T√™n ng∆∞·ªùi d√πng:</span>
                        <span id="profileUsername" class="text-gray-900 font-semibold"></span>
                    </div>
                    
                    <div class="flex items-center justify-between border-b pb-3">
                        <span class="text-gray-600 font-medium">Email:</span>
                        <span id="profileEmail" class="text-gray-900"></span>
                    </div>
                    
                    <div class="flex items-center justify-between border-b pb-3">
                        <span class="text-gray-600 font-medium">Vai tr√≤ hi·ªán t·∫°i:</span>
                        <span id="profileRole"></span>
                    </div>
                    
                    <div class="flex items-center justify-between border-b pb-3">
                        <span class="text-gray-600 font-medium">Tr·∫°ng th√°i:</span>
                        <span id="profileStatus"></span>
                    </div>
                    
                    <div class="flex items-center justify-between">
                        <span class="text-gray-600 font-medium">Ng√†y ƒëƒÉng k√Ω:</span>
                        <span id="profileCreatedAt" class="text-gray-900"></span>
                    </div>
                </div>
            </div>

            <!-- Role Upgrade Section -->
            <div id="roleUpgradeSection" class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <h2 class="text-xl font-bold text-gray-800 mb-4">‚¨ÜÔ∏è N√¢ng c·∫•p vai tr√≤</h2>
                
                <!-- Role Explanation -->
                <div class="bg-blue-50 border-l-4 border-blue-500 rounded-lg p-4 mb-4">
                    <h3 class="font-bold text-blue-900 mb-2">C√°c vai tr√≤ trong h·ªá th·ªëng:</h3>
                    <ul class="text-sm text-blue-800 space-y-1">
                        <li>‚Ä¢ <strong>Ch·ªù duy·ªát (pending_approval)</strong>: T√†i kho·∫£n m·ªõi, ch·ªâ xem ƒë∆∞·ª£c n·ªôi dung</li>
                        <li>‚Ä¢ <strong>Th√†nh vi√™n (member)</strong>: C√≥ th·ªÉ b√¨nh lu·∫≠n, ƒë√°nh gi√°, ƒë·ªÅ c·ª≠ truy·ªán</li>
                        <li>‚Ä¢ <strong>C·ªông t√°c vi√™n (contributor)</strong>: C√≥ th·ªÉ t·∫£i l√™n truy·ªán, ch·ªânh s·ª≠a truy·ªán c·ªßa m√¨nh</li>
                        <li>‚Ä¢ <strong>Qu·∫£n tr·ªã vi√™n (admin)</strong>: To√†n quy·ªÅn qu·∫£n l√Ω h·ªá th·ªëng</li>
                    </ul>
                </div>

                <!-- Request Form -->
                <div id="requestForm">
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Vai tr√≤ mu·ªën n√¢ng c·∫•p:</label>
                        <select id="requestedRole" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                            <option value="">-- Ch·ªçn vai tr√≤ --</option>
                            <option value="member">Th√†nh vi√™n (Member)</option>
                            <option value="contributor">C·ªông t√°c vi√™n (Contributor)</option>
                            <option value="admin">Qu·∫£n tr·ªã vi√™n (Admin)</option>
                        </select>
                    </div>

                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">L√Ω do y√™u c·∫ßu n√¢ng c·∫•p:</label>
                        <textarea id="requestMessage" rows="4"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"
                            placeholder="Vui l√≤ng cho bi·∫øt l√Ω do b·∫°n mu·ªën n√¢ng c·∫•p vai tr√≤..."></textarea>
                    </div>

                    <!-- Verification fields (shown for contributor requests) -->
                    <div id="verificationFields" class="hidden space-y-4 mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
                        <div class="text-sm text-yellow-800 mb-3">
                            <strong>‚ö†Ô∏è Y√™u c·∫ßu x√°c minh cho C·ªông t√°c vi√™n:</strong>
                            <p class="mt-1">Vui l√≤ng cung c·∫•p link website/Wattpad v√† ·∫£nh ch·ª©ng minh b·∫°n s·ªü h·ªØu t√†i kho·∫£n ƒë√≥.</p>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Link Website/Wattpad: <span class="text-red-500">*</span>
                            </label>
                            <input type="url" id="websiteUrl"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="https://www.wattpad.com/user/yourname ho·∫∑c https://yourwebsite.com">
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Link ·∫£nh ch·ª©ng minh: <span class="text-red-500">*</span>
                            </label>
                            <input type="url" id="proofImageUrl"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="https://i.imgur.com/... (upload ·∫£nh l√™n Imgur ho·∫∑c d·ªãch v·ª• kh√°c)">
                            <p class="text-xs text-gray-500 mt-1">
                                üí° G·ª£i √Ω: Ch·ª•p m√†n h√¨nh trang c√†i ƒë·∫∑t t√†i kho·∫£n ho·∫∑c trang profile c·ªßa b·∫°n tr√™n website/Wattpad
                            </p>
                        </div>
                    </div>

                    <button id="submitRequestBtn"
                        class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors">
                        G·ª≠i y√™u c·∫ßu n√¢ng c·∫•p
                    </button>
                </div>
            </div>

            <!-- Request History -->
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-xl font-bold text-gray-800 mb-4">üìú L·ªãch s·ª≠ y√™u c·∫ßu</h2>
                
                <div id="requestsContainer">
                    <div class="text-center py-8 text-gray-500">
                        ƒêang t·∫£i...
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="fixed bottom-4 right-4 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg hidden transition-all">
        <span id="toastMessage"></span>
    </div>

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/database.js"></script>
    <script src="js/components.js"></script>
    <script src="js/profile.js"></script>
</body>
</html>

